# Description: Library
---
version: 1
task_templates:
# Create external tables needed for benchmark
- id: setup
  files:
  - run/spark-3.3.1/scripts/tpcds/setup/ddl-external-tables.sql
# Create data maintenance external tables needed for benchmark
- id: setup_data_maintenance
  files:
  - run/spark-3.3.1/scripts/tpcds/setup_data_maintenance/ddl-external-tables-refresh.sql
  parameter_values_file: run/auxiliary/tpcds/setup_data_maintenance/parameter_values.dat
# Create schema and drop existing tables
- id: init
  files:
  - run/spark-3.3.1/scripts/tpcds/init/init.sql
# Create benchmark tables and load data into them
- id: build
  files:
  - run/spark-3.3.1/scripts/tpcds/build/1_create_call_center.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_catalog_page.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_catalog_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_catalog_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_customer.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_customer_address.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_customer_demographics.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_date_dim.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_household_demographics.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_income_band.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_inventory.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_item.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_promotion.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_reason.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_ship_mode.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_store.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_store_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_store_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_time_dim.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_warehouse.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_web_page.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_web_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_web_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/1_create_web_site.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_call_center.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_catalog_page.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_catalog_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_catalog_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_customer.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_customer_address.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_customer_demographics.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_date_dim.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_household_demographics.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_income_band.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_inventory.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_item.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_promotion.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_reason.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_ship_mode.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_store.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_store_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_store_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_time_dim.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_warehouse.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_web_page.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_web_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_web_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/2_load_web_site.sql
# Compute statistics for tables
- id: analyze
  files:
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_call_center.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_catalog_page.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_catalog_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_catalog_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_customer.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_customer_address.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_customer_demographics.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_date_dim.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_household_demographics.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_income_band.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_inventory.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_item.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_promotion.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_reason.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_ship_mode.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_store.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_store_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_store_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_time_dim.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_warehouse.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_web_page.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_web_returns.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_web_sales.sql
  - run/spark-3.3.1/scripts/tpcds/build/3_analyze_web_site.sql
# Execution of TPC-DS queries (possibly in a previous point-in-time)
- id: single_user
  files:
  - run/spark-3.3.1/scripts/tpcds/single_user/query1.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query2.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query3.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query4.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query5.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query6.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query7.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query8.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query9.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query10.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query11.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query12.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query13.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query14.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query15.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query16.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query17.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query18.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query19.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query20.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query21.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query22.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query23.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query24.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query25.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query26.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query27.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query28.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query29.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query30.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query31.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query32.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query33.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query34.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query35.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query36.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query37.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query38.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query39.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query40.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query41.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query42.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query43.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query44.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query45.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query46.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query47.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query48.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query49.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query50.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query51.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query52.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query53.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query54.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query55.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query56.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query57.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query58.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query59.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query60.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query61.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query62.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query63.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query64.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query65.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query66.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query67.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query68.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query69.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query70.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query71.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query72.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query73.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query74.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query75.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query76.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query77.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query78.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query79.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query80.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query81.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query82.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query83.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query84.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query85.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query86.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query87.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query88.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query89.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query90.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query91.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query92.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query93.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query94.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query95.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query96.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query97.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query98.sql
  - run/spark-3.3.1/scripts/tpcds/single_user/query99.sql
  permutation_orders_path: run/auxiliary/tpcds/single_user/permutation_orders/
  supports_time_travel: true
# Execution of TPC-DS data maintenance queries (Delta)
- id: data_maintenance_delta
  files:
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_CS-merge.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_I-merge.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_SS-merge.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_WS-merge.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_CR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_CS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_I.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_SR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_SS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_WR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_WS.sql
  parameter_values_file: run/auxiliary/tpcds/data_maintenance/parameter_values.dat
# Execution of TPC-DS data maintenance queries (Iceberg)
- id: data_maintenance_iceberg
  files:
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_CS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_I.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_SS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_WS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_CR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_CS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_I.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_SR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_SS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_WR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_WS.sql
  parameter_values_file: run/auxiliary/tpcds/data_maintenance/parameter_values.dat
# Execution of TPC-DS data maintenance queries (Hudi)
- id: data_maintenance_hudi
  files:
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_CS-mixed.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_I-mixed.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_SS-mixed.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/DF_WS-mixed.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_CR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_CS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_I.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_SR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_SS.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_WR.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance/LF_WS.sql
  parameter_values_file: run/auxiliary/tpcds/data_maintenance/parameter_values.dat
# Execution of optimize on all benchmark tables (Delta)
- id: optimize_delta
  files:
  - run/spark-3.3.1/scripts/tpcds/optimize/o_call_center-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_page-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_returns-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_sales-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_address-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_demographics-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_date_dim-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_household_demographics-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_income_band-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_inventory-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_item-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_promotion-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_reason-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_ship_mode-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store_returns-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store_sales-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_time_dim-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_warehouse-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_page-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_returns-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_sales-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_site-delta.sql
# Execution of optimize on all benchmark tables but splitting optimization
# of partitioned tables into batches by relying on dependent task executor (Delta)
- id: optimize_split_delta
  custom_task_executor: com.microsoft.lst_bench.task.custom.DependentTaskExecutor
  files:
  - run/spark-3.3.1/scripts/tpcds/optimize/o_call_center-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_page-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_IN-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_NULL-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_IN-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_NULL-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_address-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_demographics-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_date_dim-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_household_demographics-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_income_band-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_IN-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_NULL-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_item-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_promotion-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_reason-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_ship_mode-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_IN-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_NULL-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_IN-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_NULL-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_time_dim-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_warehouse-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_page-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_IN-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_NULL-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_IN-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_NULL-delta.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_site-delta.sql
# Execution of optimize on all benchmark tables (Iceberg)
- id: optimize_iceberg
  files:
  - run/spark-3.3.1/scripts/tpcds/optimize/o_call_center-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_page-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_returns-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_sales-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_address-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_demographics-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_date_dim-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_household_demographics-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_income_band-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_inventory-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_item-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_promotion-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_reason-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_ship_mode-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store_returns-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store_sales-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_time_dim-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_warehouse-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_page-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_returns-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_sales-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_site-iceberg.sql
# Execution of optimize on all benchmark tables but splitting optimization
# of partitioned tables into batches by relying on dependent task executor (Iceberg)
- id: optimize_split_iceberg
  custom_task_executor: com.microsoft.lst_bench.task.custom.DependentTaskExecutor
  files:
  - run/spark-3.3.1/scripts/tpcds/optimize/o_call_center-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_page-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_IN-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_NULL-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_IN-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_NULL-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_address-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_demographics-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_date_dim-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_household_demographics-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_income_band-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_IN-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_NULL-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_item-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_promotion-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_reason-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_ship_mode-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_IN-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_NULL-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_IN-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_NULL-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_time_dim-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_warehouse-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_page-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_IN-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_NULL-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_IN-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_NULL-iceberg.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_site-iceberg.sql
# Execution of optimize on all benchmark tables (Hudi)
- id: optimize_hudi
  files:
  - run/spark-3.3.1/scripts/tpcds/optimize/o_call_center-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_page-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_returns-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_sales-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_address-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_demographics-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_date_dim-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_household_demographics-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_income_band-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_inventory-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_item-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_promotion-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_reason-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_ship_mode-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store_returns-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store_sales-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_time_dim-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_warehouse-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_page-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_returns-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_sales-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_site-hudi.sql
# Execution of optimize on all benchmark tables but splitting optimization
# of partitioned tables into batches by relying on dependent task executor (Hudi)
- id: optimize_split_hudi
  custom_task_executor: com.microsoft.lst_bench.task.custom.DependentTaskExecutor
  files:
  - run/spark-3.3.1/scripts/tpcds/optimize/o_call_center-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_catalog_page-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_IN-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_returns_NULL-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_IN-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_catalog_sales_NULL-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_address-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_customer_demographics-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_date_dim-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_household_demographics-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_income_band-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_IN-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_inventory_NULL-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_item-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_promotion-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_reason-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_ship_mode-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_store-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_IN-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_returns_NULL-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_IN-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_store_sales_NULL-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_time_dim-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_warehouse-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_page-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_IN-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_returns_NULL-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_SELECT.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_IN-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize_split/o_web_sales_NULL-hudi.sql
  - run/spark-3.3.1/scripts/tpcds/optimize/o_web_site-hudi.sql
# Execution of dependent TPC-DS data maintenance queries
- id: data_maintenance_dependent
  custom_task_executor: com.microsoft.lst_bench.task.custom.DependentTaskExecutor
  files:
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CR_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CS_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CR_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CS_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CR_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CS_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_CS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_I_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_I_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_I_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_I_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_I_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_I_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SR_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SS_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SR_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SS_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SR_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SS_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_SS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WR_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WS_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WR_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WS_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WR_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WR_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WS_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/DF_WS_delete.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_CR_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_CR_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_CR_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_CR_insert.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_CS_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_CS_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_CS_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_CS_insert.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_I_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_I_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_I_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_I_insert.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_SR_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_SR_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_SR_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_SR_insert.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_SS_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_SS_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_SS_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_SS_insert.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_WR_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_WR_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_WR_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_WR_insert.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_WS_1.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_WS_2.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_WS_3.sql
  - run/spark-3.3.1/scripts/tpcds/data_maintenance_dependent/LF_WS_insert.sql
  parameter_values_file: run/auxiliary/tpcds/data_maintenance/parameter_values.dat